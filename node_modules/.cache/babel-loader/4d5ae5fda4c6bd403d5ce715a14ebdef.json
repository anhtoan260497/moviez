{"ast":null,"code":"var _jsxFileName = \"/Users/rengarrrrr/Desktop/Studies/movie/src/features/Home/components/TrendingHome/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./styles.scss\";\nimport SlideButton from \"../../../../components/SlideButton\";\nimport { useState, useEffect } from \"react\";\nimport trendingAPI from \"../../../../api/trendingAPI\";\nimport MovieTag from \"../../../../components/MovieTag\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TrendingHome(props) {\n  _s();\n\n  const [trendingType, setTrendingType] = useState(\"option1\");\n  const [trendingData, setTrendingData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const API_Key = process.env.REACT_APP_MOVIE_API;\n\n  const handleOption = e => {\n    const type = e.target.attributes.value.value;\n    if (type !== trendingType) setTrendingType(type);\n  };\n\n  useEffect(() => {\n    if (!trendingType) return;\n\n    const fetchTrendingData = async () => {\n      setIsLoading(true);\n\n      if (trendingType === \"option1\") {\n        const data = await trendingAPI.getTrendingToday(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      } // trending today\n\n\n      if (trendingType === \"option2\") {\n        const data = await trendingAPI.getTrendingWeek(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      }\n    };\n\n    fetchTrendingData();\n  }, [trendingType, API_Key]);\n\n  const renderTrending = () => {\n    if (!trendingData) return;\n    return trendingData.map((item, idx) => {\n      let name = \"\";\n      if (item.media_type === \"movie\") name = item.original_title;\n      if (item.media_type === \"tv\") name = item.name;\n      return /*#__PURE__*/_jsxDEV(MovieTag, {\n        name: name,\n        img: item.poster_path,\n        vote: item.vote_average,\n        id: item.id,\n        type: item.media_type\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"trending-home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trending-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Trending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SlideButton, {\n        option1: \"Today\",\n        option2: \"This Week\",\n        handleOption: handleOption,\n        optionType: trendingType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-aos\": \"zoom-in\",\n      className: \"trending-content\",\n      children: renderTrending()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TrendingHome, \"I10t/8c9P23hUEjNipUcbsSA5ls=\");\n\n_c = TrendingHome;\nexport default TrendingHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrendingHome\");","map":{"version":3,"names":["React","SlideButton","useState","useEffect","trendingAPI","MovieTag","TrendingHome","props","trendingType","setTrendingType","trendingData","setTrendingData","isLoading","setIsLoading","API_Key","process","env","REACT_APP_MOVIE_API","handleOption","e","type","target","attributes","value","fetchTrendingData","data","getTrendingToday","results","getTrendingWeek","renderTrending","map","item","idx","name","media_type","original_title","poster_path","vote_average","id"],"sources":["/Users/rengarrrrr/Desktop/Studies/movie/src/features/Home/components/TrendingHome/index.jsx"],"sourcesContent":["import React from \"react\";\nimport \"./styles.scss\";\nimport SlideButton from \"../../../../components/SlideButton\";\nimport { useState, useEffect } from \"react\";\nimport trendingAPI from \"../../../../api/trendingAPI\";\nimport MovieTag from \"../../../../components/MovieTag\";\n\nfunction TrendingHome(props) {\n  const [trendingType, setTrendingType] = useState(\"option1\");\n  const [trendingData, setTrendingData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n\n  const API_Key = process.env.REACT_APP_MOVIE_API;\n\n  const handleOption = (e) => {\n    const type = e.target.attributes.value.value;\n    if (type !== trendingType) setTrendingType(type);\n  };\n\n  useEffect(() => {\n    if (!trendingType) return;\n    const fetchTrendingData = async () => {\n      setIsLoading(true);\n      if (trendingType === \"option1\") {\n        const data = await trendingAPI.getTrendingToday(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      } // trending today\n      if (trendingType === \"option2\") {\n        const data = await trendingAPI.getTrendingWeek(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      }\n    };\n    fetchTrendingData();\n  }, [trendingType, API_Key]);\n\n  const renderTrending = () => {\n    if (!trendingData) return;\n    return trendingData.map((item, idx) => {\n      let name = \"\";\n      if (item.media_type === \"movie\") name = item.original_title;\n      if (item.media_type === \"tv\") name = item.name;\n      return (\n        <MovieTag\n          name={name}\n          img={item.poster_path}\n          vote={item.vote_average}\n          key={idx}\n          id={item.id}\n          type={item.media_type}\n        />\n      );\n    });\n  };\n\n  return (\n    <section className=\"trending-home\">\n      <div className=\"trending-title\">\n        <h2>Trending</h2>\n        <SlideButton\n          option1=\"Today\"\n          option2=\"This Week\"\n          handleOption={handleOption}\n          optionType={trendingType}\n        />\n      </div>\n\n      {!isLoading ? (\n        <div data-aos=\"zoom-in\" className=\"trending-content\">\n          {renderTrending()}\n        </div>\n      ) : null}\n    </section>\n  );\n}\n\nexport default TrendingHome;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}