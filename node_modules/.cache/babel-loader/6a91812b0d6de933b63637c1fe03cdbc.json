{"ast":null,"code":"import _asyncToGenerator from\"/Users/rengarrrrr/Desktop/Studies/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rengarrrrr/Desktop/Studies/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/rengarrrrr/Desktop/Studies/movie/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import\"./styles.scss\";import{useState}from\"react\";import{useEffect}from\"react\";import movieAPI from\"../../api/movieAPI\";import tvAPI from\"../../api/tvAPI\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TrailerTag(_ref){var _trailerData$;var name=_ref.name,img=_ref.img,id=_ref.id,trailerType=_ref.trailerType;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),trailerData=_useState2[0],setTrailerData=_useState2[1];var API_Key=process.env.REACT_APP_MOVIE_API;useEffect(function(){if(!id||!trailerType)return;var getTrailerKey=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,dataFilter,_data,_dataFilter;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!(trailerType===\"option2\")){_context.next=6;break;}_context.next=3;return movieAPI.getTrailerHome(API_Key,id);case 3:data=_context.sent;dataFilter=data.data.results.filter(function(item){return item.name.includes(\"Official Trailer\")||item.name.includes('Official')||item.name.includes('Trailer');});setTrailerData(dataFilter);case 6:if(!(trailerType===\"option1\")){_context.next=12;break;}_context.next=9;return tvAPI.getTrailerHome(API_Key,id);case 9:_data=_context.sent;_dataFilter=_data.data.results.filter(function(item){return item.name.includes(\"Official Trailer\")||item.name.includes('Official')||item.name.includes('Trailer');});setTrailerData(_dataFilter);case 12:case\"end\":return _context.stop();}}},_callee);}));return function getTrailerKey(){return _ref2.apply(this,arguments);};}();getTrailerKey();},[id,API_Key,trailerType]);return/*#__PURE__*/_jsxs(\"a\",{className:\"trailer-tag\",href:\"https://www.youtube.com/watch?v=\".concat((_trailerData$=trailerData[0])===null||_trailerData$===void 0?void 0:_trailerData$.key),target:\"_blank\",rel:\"noreferrer\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"trailer-img\",src:\"https://image.tmdb.org/t/p/original\".concat(img),alt:\"\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"trailer-name\",children:name})]});}export default TrailerTag;","map":{"version":3,"sources":["/Users/rengarrrrr/Desktop/Studies/movie/src/components/TrailerTag/index.jsx"],"names":["React","useState","useEffect","movieAPI","tvAPI","TrailerTag","name","img","id","trailerType","trailerData","setTrailerData","API_Key","process","env","REACT_APP_MOVIE_API","getTrailerKey","getTrailerHome","data","dataFilter","results","filter","item","includes","key"],"mappings":"0XAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CAEA,MAAO,eAAP,CACA,OAASC,QAAT,KAAyB,OAAzB,CACA,OAASC,SAAT,KAA0B,OAA1B,CACA,MAAOC,CAAAA,QAAP,KAAqB,oBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,iBAAlB,C,wFAIA,QAASC,CAAAA,UAAT,MAAoD,sBAA9BC,CAAAA,IAA8B,MAA9BA,IAA8B,CAAxBC,GAAwB,MAAxBA,GAAwB,CAAnBC,EAAmB,MAAnBA,EAAmB,CAAfC,WAAe,MAAfA,WAAe,CAClD,cAAsCR,QAAQ,CAAC,EAAD,CAA9C,wCAAOS,WAAP,eAAoBC,cAApB,eACA,GAAMC,CAAAA,OAAO,CAAGC,OAAO,CAACC,GAAR,CAAYC,mBAA5B,CAEAb,SAAS,CAAC,UAAM,CACd,GAAI,CAACM,EAAD,EAAO,CAACC,WAAZ,CAAyB,OACzB,GAAMO,CAAAA,aAAa,2FAAG,8KAChBP,WAAW,GAAK,SADA,gDAECN,CAAAA,QAAQ,CAACc,cAAT,CAAwBL,OAAxB,CAAiCJ,EAAjC,CAFD,QAEZU,IAFY,eAGZC,UAHY,CAGCD,IAAI,CAACA,IAAL,CAAUE,OAAV,CAAkBC,MAAlB,CAAyB,SAACC,IAAD,CAAU,CACpD,MAAOA,CAAAA,IAAI,CAAChB,IAAL,CAAUiB,QAAV,CAAmB,kBAAnB,GAAyCD,IAAI,CAAChB,IAAL,CAAUiB,QAAV,CAAmB,UAAnB,CAAzC,EAA2ED,IAAI,CAAChB,IAAL,CAAUiB,QAAV,CAAmB,SAAnB,CAAlF,CACD,CAFkB,CAHD,CAMlBZ,cAAc,CAACQ,UAAD,CAAd,CANkB,YAQhBV,WAAW,GAAK,SARA,iDASCL,CAAAA,KAAK,CAACa,cAAN,CAAqBL,OAArB,CAA8BJ,EAA9B,CATD,QASZU,KATY,eAUZC,WAVY,CAUCD,KAAI,CAACA,IAAL,CAAUE,OAAV,CAAkBC,MAAlB,CAAyB,SAACC,IAAD,CAAU,CACpD,MAAOA,CAAAA,IAAI,CAAChB,IAAL,CAAUiB,QAAV,CAAmB,kBAAnB,GAA0CD,IAAI,CAAChB,IAAL,CAAUiB,QAAV,CAAmB,UAAnB,CAA1C,EAA4ED,IAAI,CAAChB,IAAL,CAAUiB,QAAV,CAAmB,SAAnB,CAAnF,CACD,CAFkB,CAVD,CAalBZ,cAAc,CAACQ,WAAD,CAAd,CAbkB,uDAAH,kBAAbH,CAAAA,aAAa,2CAAnB,CAgBAA,aAAa,GACd,CAnBQ,CAmBN,CAACR,EAAD,CAAKI,OAAL,CAAcH,WAAd,CAnBM,CAAT,CAqBA,mBACE,WAAG,SAAS,CAAC,aAAb,CACA,IAAI,0DAAqCC,WAAW,CAAC,CAAD,CAAhD,wCAAqC,cAAgBc,GAArD,CADJ,CAEA,MAAM,CAAC,QAFP,CAGA,GAAG,CAAC,YAHJ,wBAKE,YACE,SAAS,CAAC,aADZ,CAEE,GAAG,8CAAwCjB,GAAxC,CAFL,CAGE,GAAG,CAAC,EAHN,EALF,cAWI,WAAI,SAAS,CAAC,cAAd,UAA8BD,IAA9B,EAXJ,GADF,CAeD,CAED,cAAeD,CAAAA,UAAf","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./styles.scss\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport movieAPI from \"../../api/movieAPI\";\nimport tvAPI from \"../../api/tvAPI\";\n\nTrailerTag.propTypes = {};\n\nfunction TrailerTag({ name, img, id, trailerType }) {\n  const [trailerData, setTrailerData] = useState(\"\");\n  const API_Key = process.env.REACT_APP_MOVIE_API;\n\n  useEffect(() => {\n    if (!id || !trailerType) return;\n    const getTrailerKey = async () => {\n      if (trailerType === \"option2\") {\n        const data = await movieAPI.getTrailerHome(API_Key, id);\n        const dataFilter = data.data.results.filter((item) => {\n          return item.name.includes(\"Official Trailer\")|| item.name.includes('Official') || item.name.includes('Trailer');\n        });\n        setTrailerData(dataFilter);\n      }\n      if (trailerType === \"option1\") {\n        const data = await tvAPI.getTrailerHome(API_Key, id);\n        const dataFilter = data.data.results.filter((item) => {\n          return item.name.includes(\"Official Trailer\") || item.name.includes('Official') || item.name.includes('Trailer');\n        });\n        setTrailerData(dataFilter);\n      }\n    };\n    getTrailerKey();\n  }, [id, API_Key, trailerType]);\n\n  return (\n    <a className=\"trailer-tag\"\n    href={`https://www.youtube.com/watch?v=${trailerData[0]?.key}`}\n    target=\"_blank\"\n    rel=\"noreferrer\"\n    >\n      <img\n        className=\"trailer-img\"\n        src={`https://image.tmdb.org/t/p/original${img}`}\n        alt=\"\"\n      />\n     \n        <h2 className=\"trailer-name\">{name}</h2>\n    </a>\n  );\n}\n\nexport default TrailerTag;\n"]},"metadata":{},"sourceType":"module"}