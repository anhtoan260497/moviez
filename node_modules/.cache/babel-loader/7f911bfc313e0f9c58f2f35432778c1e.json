{"ast":null,"code":"var _jsxFileName = \"/Users/rengarrrrr/Desktop/Studies/movie/src/features/Home/components/TrendingHome/index.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport \"./styles.scss\";\nimport SlideButton from \"../../../../components/SlideButton\";\nimport { useState, useEffect } from \"react\";\nimport trendingAPI from \"../../../../api/trendingAPI\";\nimport MovieTag from \"../../../../components/MovieTag\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction TrendingHome(props) {\n  _s();\n\n  const [trendingType, setTrendingType] = useState(\"option1\");\n  const [trendingData, setTrendingData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n  const API_Key = process.env.REACT_APP_MOVIE_API;\n\n  const handleOption = e => {\n    const type = e.target.attributes.value.value;\n    if (type !== trendingType) setTrendingType(type);\n  };\n\n  useEffect(() => {\n    if (!trendingType) return;\n\n    const fetchTrendingData = async () => {\n      setIsLoading(true);\n\n      if (trendingType === \"option1\") {\n        const data = await trendingAPI.getTrendingToday(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      } // trending today\n\n\n      if (trendingType === \"option2\") {\n        const data = await trendingAPI.getTrendingWeek(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      }\n    };\n\n    fetchTrendingData();\n  }, [trendingType, API_Key]);\n\n  const renderTrending = () => {\n    if (!trendingData) return;\n    return trendingData.map((item, idx) => {\n      let name = \"\";\n      if (item.media_type === \"movie\") name = item.original_title;\n      if (item.media_type === \"tv\") name = item.name;\n      return /*#__PURE__*/_jsxDEV(MovieTag, {\n        name: name,\n        img: item.poster_path,\n        vote: item.vote_average,\n        id: item.id,\n        type: item.media_type\n      }, idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"trending-home\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"trending-title\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Trending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SlideButton, {\n        option1: \"Today\",\n        option2: \"This Week\",\n        handleOption: handleOption,\n        optionType: trendingType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), !isLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-aos\": \"zoom-in\",\n      className: \"trending-content\",\n      children: renderTrending()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n\n_s(TrendingHome, \"I10t/8c9P23hUEjNipUcbsSA5ls=\");\n\n_c = TrendingHome;\nexport default TrendingHome;\n\nvar _c;\n\n$RefreshReg$(_c, \"TrendingHome\");","map":{"version":3,"sources":["/Users/rengarrrrr/Desktop/Studies/movie/src/features/Home/components/TrendingHome/index.jsx"],"names":["React","SlideButton","useState","useEffect","trendingAPI","MovieTag","TrendingHome","props","trendingType","setTrendingType","trendingData","setTrendingData","isLoading","setIsLoading","API_Key","process","env","REACT_APP_MOVIE_API","handleOption","e","type","target","attributes","value","fetchTrendingData","data","getTrendingToday","results","getTrendingWeek","renderTrending","map","item","idx","name","media_type","original_title","poster_path","vote_average","id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles.scss\";\nimport SlideButton from \"../../../../components/SlideButton\";\nimport { useState, useEffect } from \"react\";\nimport trendingAPI from \"../../../../api/trendingAPI\";\nimport MovieTag from \"../../../../components/MovieTag\";\n\nfunction TrendingHome(props) {\n  const [trendingType, setTrendingType] = useState(\"option1\");\n  const [trendingData, setTrendingData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n\n  const API_Key = process.env.REACT_APP_MOVIE_API;\n\n  const handleOption = (e) => {\n    const type = e.target.attributes.value.value;\n    if (type !== trendingType) setTrendingType(type);\n  };\n\n  useEffect(() => {\n    if (!trendingType) return;\n    const fetchTrendingData = async () => {\n      setIsLoading(true);\n      if (trendingType === \"option1\") {\n        const data = await trendingAPI.getTrendingToday(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      } // trending today\n      if (trendingType === \"option2\") {\n        const data = await trendingAPI.getTrendingWeek(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      }\n    };\n    fetchTrendingData();\n  }, [trendingType, API_Key]);\n\n  const renderTrending = () => {\n    if (!trendingData) return;\n    return trendingData.map((item, idx) => {\n      let name = \"\";\n      if (item.media_type === \"movie\") name = item.original_title;\n      if (item.media_type === \"tv\") name = item.name;\n      return (\n        <MovieTag\n          name={name}\n          img={item.poster_path}\n          vote={item.vote_average}\n          key={idx}\n          id={item.id}\n          type={item.media_type}\n        />\n      );\n    });\n  };\n\n  return (\n    <section className=\"trending-home\">\n      <div className=\"trending-title\">\n        <h2>Trending</h2>\n        <SlideButton\n          option1=\"Today\"\n          option2=\"This Week\"\n          handleOption={handleOption}\n          optionType={trendingType}\n        />\n      </div>\n\n      {!isLoading ? (\n        <div data-aos=\"zoom-in\" className=\"trending-content\">\n          {renderTrending()}\n        </div>\n      ) : null}\n    </section>\n  );\n}\n\nexport default TrendingHome;\n"]},"metadata":{},"sourceType":"module"}