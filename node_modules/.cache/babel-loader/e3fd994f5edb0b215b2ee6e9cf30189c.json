{"ast":null,"code":"import _asyncToGenerator from\"/Users/rengarrrrr/Desktop/Studies/movie/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/rengarrrrr/Desktop/Studies/movie/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/rengarrrrr/Desktop/Studies/movie/node_modules/@babel/runtime/regenerator/index.js\";import React from\"react\";import\"./styles.scss\";import SlideButton from\"../../../../components/SlideButton\";import{useState,useEffect}from\"react\";import trendingAPI from\"../../../../api/trendingAPI\";import MovieTag from\"../../../../components/MovieTag\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TrendingHome(props){var _useState=useState(\"option1\"),_useState2=_slicedToArray(_useState,2),trendingType=_useState2[0],setTrendingType=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),trendingData=_useState4[0],setTrendingData=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var API_Key=process.env.REACT_APP_MOVIE_API;var handleOption=function handleOption(e){var type=e.target.attributes.value.value;if(type!==trendingType)setTrendingType(type);};useEffect(function(){if(!trendingType)return;var fetchTrendingData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);if(!(trendingType===\"option1\")){_context.next=7;break;}_context.next=4;return trendingAPI.getTrendingToday(API_Key);case 4:data=_context.sent;setTrendingData(data.data.results);setIsLoading(false);case 7:if(!(trendingType===\"option2\")){_context.next=13;break;}_context.next=10;return trendingAPI.getTrendingWeek(API_Key);case 10:_data=_context.sent;setTrendingData(_data.data.results);setIsLoading(false);case 13:case\"end\":return _context.stop();}}},_callee);}));return function fetchTrendingData(){return _ref.apply(this,arguments);};}();fetchTrendingData();},[trendingType,API_Key]);var renderTrending=function renderTrending(){if(!trendingData)return;return trendingData.map(function(item,idx){var name=\"\";if(item.media_type===\"movie\")name=item.original_title;if(item.media_type===\"tv\")name=item.name;return/*#__PURE__*/_jsx(MovieTag,{name:name,img:item.poster_path,vote:item.vote_average,id:item.id,type:item.media_type},idx);});};return/*#__PURE__*/_jsxs(\"section\",{className:\"trending-home\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"trending-title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Trending\"}),/*#__PURE__*/_jsx(SlideButton,{option1:\"Today\",option2:\"This Week\",handleOption:handleOption,optionType:trendingType})]}),!isLoading?/*#__PURE__*/_jsx(\"div\",{\"data-aos\":\"zoom-in\",className:\"trending-content\",children:renderTrending()}):null]});}export default TrendingHome;","map":{"version":3,"sources":["/Users/rengarrrrr/Desktop/Studies/movie/src/features/Home/components/TrendingHome/index.jsx"],"names":["React","SlideButton","useState","useEffect","trendingAPI","MovieTag","TrendingHome","props","trendingType","setTrendingType","trendingData","setTrendingData","isLoading","setIsLoading","API_Key","process","env","REACT_APP_MOVIE_API","handleOption","e","type","target","attributes","value","fetchTrendingData","getTrendingToday","data","results","getTrendingWeek","renderTrending","map","item","idx","name","media_type","original_title","poster_path","vote_average","id"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./styles.scss\";\nimport SlideButton from \"../../../../components/SlideButton\";\nimport { useState, useEffect } from \"react\";\nimport trendingAPI from \"../../../../api/trendingAPI\";\nimport MovieTag from \"../../../../components/MovieTag\";\n\nfunction TrendingHome(props) {\n  const [trendingType, setTrendingType] = useState(\"option1\");\n  const [trendingData, setTrendingData] = useState();\n  const [isLoading, setIsLoading] = useState(true);\n\n  const API_Key = process.env.REACT_APP_MOVIE_API;\n\n  const handleOption = (e) => {\n    const type = e.target.attributes.value.value;\n    if (type !== trendingType) setTrendingType(type);\n  };\n\n  useEffect(() => {\n    if (!trendingType) return;\n    const fetchTrendingData = async () => {\n      setIsLoading(true);\n      if (trendingType === \"option1\") {\n        const data = await trendingAPI.getTrendingToday(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      } // trending today\n      if (trendingType === \"option2\") {\n        const data = await trendingAPI.getTrendingWeek(API_Key);\n        setTrendingData(data.data.results);\n        setIsLoading(false);\n      }\n    };\n    fetchTrendingData();\n  }, [trendingType, API_Key]);\n\n  const renderTrending = () => {\n    if (!trendingData) return;\n    return trendingData.map((item, idx) => {\n      let name = \"\";\n      if (item.media_type === \"movie\") name = item.original_title;\n      if (item.media_type === \"tv\") name = item.name;\n      return (\n        <MovieTag\n          name={name}\n          img={item.poster_path}\n          vote={item.vote_average}\n          key={idx}\n          id={item.id}\n          type={item.media_type}\n        />\n      );\n    });\n  };\n\n  return (\n    <section className=\"trending-home\">\n      <div className=\"trending-title\">\n        <h2>Trending</h2>\n        <SlideButton\n          option1=\"Today\"\n          option2=\"This Week\"\n          handleOption={handleOption}\n          optionType={trendingType}\n        />\n      </div>\n\n      {!isLoading ? (\n        <div data-aos=\"zoom-in\" className=\"trending-content\">\n          {renderTrending()}\n        </div>\n      ) : null}\n    </section>\n  );\n}\n\nexport default TrendingHome;\n"]},"metadata":{},"sourceType":"module"}